/ Pageviews Analysis tool
/ Copyright 2016 MusikAnimal
- $currentApp = "pageviews"
!!!
%html
  %head
    - include '_head.php'
    %title= $I18N->msg( 'title' )
  %body(class="#{$rtl} #{$currentApp}")
    %nav
      %span.pull-right.nav-buttons
        %button.btn.btn-default.btn-sm.btn-settings.js-test-settings(data-target="#settings-modal" data-toggle="modal")
          %span.glyphicon.glyphicon-wrench
          = $I18N->msg( 'settings' )

        %a.btn.btn-default.btn-sm.btn-faq(href="/pageviews/faq")
          %span.glyphicon.glyphicon-question-sign
          = $I18N->msg( 'faq' )

        %span.btn-group.dropdown.lang-group.pull-right
          %button.btn.btn-default.btn-sm.dropdown-toggle(type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
            = $currentLang
            %span.caret
          %ul.dropdown-menu.dropdown-menu-right
            %li
              %a(href="https://translatewiki.net/w/i.php?title=Special:MessageGroupStats&group=out-pageviews")
                = $I18N->msg( 'help-translate' )
            %li.divider(role="separator")
            - foreach (array_unique($langs) as $lang => $langName)
              %li
                %a.lang-link(href="#" data-lang="#{$lang}")= $langName

      %ul.interapp-links.nav.nav-tabs
        - $apps = [ 'pageviews', 'langviews', 'topviews', 'siteviews', 'massviews', 'redirectviews' ]
        - foreach( $apps as $app )
          - $i18nName = $app === 'pageviews' ? '' : $app . '-'

          - if ( $app === $currentApp )
            %li.active(role="presentation")
              %a.interapp-link(class="interapp-link--#{$app}" href="/#{$app}")
                = $I18N->msg( $app )
          - else
            %li(role="presentation")
              %a.interapp-link(class="interapp-link--#{$app}" href="/#{$app}")
                = $I18N->msg( $app )

    %header.site-header
      %h4.text-center
        %strong
          = $I18N->msg( 'title' )
        %small.app-description
          = $I18N->msg( 'pageviews-description' )

    %aside.col-lg-2.page-selector
      %header.text-center
        %h4 Options
      %div.page-selector--container
        %div
          %label(for="range-input")
            = $I18N->msg( 'dates' )
          %input.form-control.aqs-date-range-selector#range-input
        %div
          %label(for="project-input")
            = $I18N->msg( 'project' )
          %input.form-control.aqs-project-input#project-input(placeholder="en.wikipedia.org")
        %div
          %label(for="platform-select")
            = $I18N->msg( 'platform' )
          %select.form-control#platform-select
            %option(value="all-access")
              = $I18N->msg( 'all' )
            %option(value="desktop")
              = $I18N->msg( 'desktop' )
            %option(value="mobile-app")
              = $I18N->msg( 'mobile-app' )
            %option(value="mobile-web")
              = $I18N->msg( 'mobile-web' )
        %div
          %label(for="agent-select")
            = $I18N->msg( 'agent' )
            %a.help-link(href="/pageviews/faq#agents")
              %span.glyphicon.glyphicon-question-sign
          %select.form-control#agent-select
            %option(value="all-agents")
              = $I18N->msg( 'all' )
            %option(selected="selected" value="user")
              = $I18N->msg( 'user' )
            %option(value="spider")
              = $I18N->msg( 'spider' )
            %option(value="bot")
              = $I18N->msg( 'bot' )

        %div
          %label(for="article-input")
            = $I18N->msg( 'pages' )
          %select.aqs-select2-selector.col-lg-12.invisible#article-input(multiple="multiple")

    %main.col-lg-8
      / Site notice
      %div.text-center.site-notice-wrapper
        %div.site-notice
          - include "_browser_check.php"

      - include "_data_links.php"

      / Chart
      %div.chart-container
        %canvas.aqs-chart

      %div.message-container.col-lg-12

    %aside.col-lg-2.summary-column
      %header.text-center
        %h4 Summary
      %div.summary-column--container
        %div.col-lg-12.clearfix#chart-legend

    - include "_footer.php"

    - include "_modals.php"
